{"version":3,"sources":["client.ts"],"names":["AnthropicClient","BackendClient","create","settings","extraHeaders","parseEnv","z","preprocess","value","Object","fromEntries","String","split","filter","pair","includes","map","record","string","createAnthropic","baseURL","getEnv","apiKey","headers"],"mappings":";;;;;;;;;AAuBO,MAAMA,wBAAwBC,wBAAAA,CAAAA;EAvBrC;;;AAwBYC,EAAAA,MAAAA,CAAOC,QAAuD,EAAA;AACtE,IAAA,MAAMC,eAAeC,gBACnB,CAAA,uBAAA,EACAC,KAAEC,CAAAA,UAAAA,CAAW,CAACC,KAAAA,KAAAA;AACZ,MAAOC,OAAAA,MAAAA,CAAOC,WACZC,CAAAA,MAAAA,CAAOH,KAAS,IAAA,EAAA,EACbI,KAAM,CAAA,GAAA,CACNC,CAAAA,MAAAA,CAAO,CAACC,IAAAA,KAASA,KAAKC,QAAS,CAAA,GAAA,CAAA,CAAA,CAC/BC,GAAI,CAAA,CAACF,SAASA,IAAKF,CAAAA,KAAAA,CAAM,GAAA,CAAA,CAAA,CAAA;AAEhC,KAAA,EAAGN,MAAEW,MAAOX,CAAAA,KAAAA,CAAEY,MAAM,EAAA,CAAA,CAAA,CAAA;AAGtB,IAAA,OAAOC,yBAAgB,CAAA;MACrB,GAAGhB,QAAAA;MACHiB,OAASjB,EAAAA,QAAAA,EAAUiB,OAAWC,IAAAA,cAAAA,CAAO,wBAAA,CAAA;AACrCC,MAAAA,MAAAA,EAAQD,eAAO,mBAAA,CAAA;MACfE,OAAS,EAAA;QACP,GAAGnB,YAAAA;AACH,QAAA,GAAGD,QAAUoB,EAAAA;AACf;KACF,CAAA;AACF;AACF","file":"client.cjs","sourcesContent":["/**\n * Copyright 2025 IBM Corp.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { createAnthropic, AnthropicProvider, AnthropicProviderSettings } from \"@ai-sdk/anthropic\";\nimport { BackendClient } from \"@/backend/client.js\";\nimport { getEnv, parseEnv } from \"@/internals/env.js\";\nimport { z } from \"zod\";\n\nexport type AnthropicClientSettings = AnthropicProviderSettings;\n\nexport class AnthropicClient extends BackendClient<AnthropicClientSettings, AnthropicProvider> {\n  protected create(settings?: AnthropicClientSettings): AnthropicProvider {\n    const extraHeaders = parseEnv(\n      \"ANTHROPIC_API_HEADERS\",\n      z.preprocess((value) => {\n        return Object.fromEntries(\n          String(value || \"\")\n            .split(\",\")\n            .filter((pair) => pair.includes(\"=\"))\n            .map((pair) => pair.split(\"=\")),\n        );\n      }, z.record(z.string())),\n    );\n\n    return createAnthropic({\n      ...settings,\n      baseURL: settings?.baseURL || getEnv(\"ANTHROPIC_API_BASE_URL\"),\n      apiKey: getEnv(\"ANTHROPIC_API_KEY\"),\n      headers: {\n        ...extraHeaders,\n        ...settings?.headers,\n      },\n    });\n  }\n}\n"]}